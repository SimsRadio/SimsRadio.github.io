(this["webpackJsonpmaplestory-music"]=this["webpackJsonpmaplestory-music"]||[]).push([[0],{181:function(e,t,n){},182:function(e,t,n){},263:function(e,t,n){"use strict";n.r(t);var c,a,r,i,o=n(0),u=n.n(o),l=n(26),s=n.n(l),b=(n(181),n(9)),d=n(5),h=n(10),j=(n(182),n(69)),O=n(21),m=n(37),f=n(281),p=n(285),g=n(275),v=n(161),y=n(3),S=function(){return Object(y.c)("div",{children:[Object(y.c)("div",{css:Object(h.a)(c||(c=Object(b.a)(["\n        @media (min-width: 1024px) {\n          margin-right: 33vw;\n        }\n      "]))),children:[Object(y.b)("h2",{children:"About"}),Object(y.b)("p",{children:'This database catalogs radio music from various games in the "The Sims" series. It has been compiled and is being updated by SpiderInTheSim.'}),Object(y.b)("h6",{children:Object(y.b)("b",{children:"Music Playback"})}),Object(y.b)("p",{children:"Music is played within an embedded YouTube player. The track is looped upon completion, unless in the shuffled queue mode (see below)."}),Object(y.b)("h6",{children:Object(y.b)("b",{children:"Shuffled Queue"})}),Object(y.b)("p",{children:"The shuffled queue feature randomizes the entire music collection and plays upcoming songs automatically. Skip to the next track or return to the previous track with the controls under the media player. When filters are applied to the grid, the song pool is limited to the filtered entries."}),Object(y.b)("h6",{children:Object(y.b)("b",{children:"Grid Controls"})}),Object(y.b)("p",{children:"To sort by a column, press the column header. Hover over a column header and press the menu icon to access the advanced filter dialog. Mobile users can access the filter dialog by pressing and holding the column header."}),Object(y.b)("h6",{children:Object(y.b)("b",{children:"Acknowledgments"})}),Object(y.c)("p",{children:["We thank the creators of the"," ",Object(y.b)("a",{href:"https://github.com/maplestory-music/maplestory-music.github.io",target:"_blank",rel:"noreferrer",children:"Maplestory Music"})," ","database project for their amazing work and ideas, of which we have used as the foundation of the SimsRadio website project."]})]}),Object(y.b)("h2",{children:"Source"}),Object(y.b)("p",{children:"The following GitHub projects power this site."}),Object(y.c)("div",{className:"gh-project-entry",children:[Object(y.b)("h5",{className:"gh-project-name",children:"SimsRadio: Sims Radio music website"}),Object(y.b)(v.a,{href:"https://github.com/simsradio/simsradio.github.io","data-size":"large","data-show-count":!0,"aria-label":"Star simsradio.simsradio.github.io on GitHub",children:"Star"})]})]})},k=n(1),w=n(162),C=(n(210),n(211),n(212),n(278)),x=n(270),T=(Object(x.a)("2014-11-20"),n(282)),N=n(271),A=n(2),M=function(e){var t,n=Object(o.useState)("mark/".concat(e.value)),c=Object(d.a)(n,2),a=c[0],r=c[1];return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(T.a,{delay:{show:250,hide:100},overlay:Object(A.jsx)(N.a,{id:"tooltip-pack-name",children:e.data.pack?e.data.pack:null===(t=e.data.source)||void 0===t?void 0:t.clientVersion}),children:Object(A.jsx)("span",{children:Object(A.jsx)("img",{src:a,alt:"icon",width:"35",height:"35",onError:function(){return r("mark/default.png")}})})})})},Q=new Event("pausevideo"),_=function(e){var t=e.youtube,n=e.title;return""!==t?Object(y.c)("span",{children:[Object(y.b)(T.a,{delay:{show:1e3,hide:100},overlay:Object(y.b)(N.a,{id:"tooltip-ext-link",children:"View on YouTube"}),children:Object(y.b)("a",{css:Object(h.a)(a||(a=Object(b.a)(["\n            margin-right: 3px;\n          "]))),className:"bgm-external-link-icon",href:"https://youtu.be/".concat(t),rel:"noopener noreferrer",target:"_blank",onClick:function(){window.dispatchEvent(Q),gtag("event","ce_view_external_video",{ce_category:"video",ce_youtube:e.youtube})},children:Object(y.b)("i",{className:"fa fa-external-link"})})}),Object(y.b)("a",{href:"# ",rel:"noopener noreferrer",onClick:function(t){gtag("event","ce_view_embedded_video",{ce_category:"video",ce_youtube:e.youtube}),e.onGridSongChange(e.youtube),t.preventDefault()},children:n})]}):Object(y.b)("span",{children:n})},E=n(286),R=n(272),B=function(e){var t=e.value,n=new Date,c=Object(E.a)(n,t)<3||Object(R.a)(t);return Object(y.c)("div",{className:"date-col",children:[Object(y.b)("span",{css:Object(h.a)(r||(r=Object(b.a)(["\n          margin-right: 3px;\n        "]))),children:e.valueFormatted}),!e.disableRecentTrack&&c&&Object(y.b)(T.a,{delay:{show:250,hide:100},overlay:Object(y.b)(N.a,{id:"tooltip-recent-track",children:"Recent Track"}),children:Object(y.b)("i",{className:"fa fa-star","aria-hidden":!0})})]})},I=n(287),P=u.a.createContext(void 0),F=function(e){var t=e.children,n=u.a.useState(darkmode.inDarkMode),c=Object(d.a)(n,2),a=c[0],r=c[1];return Object(o.useEffect)((function(){var e=localStorage.getItem("bs.prefers-color-scheme");void 0!==e&&r("dark"===e)}),[]),Object(o.useEffect)((function(){var e=document.documentElement,t=new MutationObserver((function(e){var t=null===e||void 0===e?void 0:e[0].target;"dark"===t.className?r(!0):"light"===t.className&&r(!1)}));return t.observe(e,{attributes:!0}),function(){t.disconnect()}}),[]),Object(A.jsx)(P.Provider,{value:{darkMode:a},children:t})},D=function(){var e=u.a.useContext(P);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},z=n(136);!function(e){e["The Sims"]="#FD96A9",e["The Sims Online"]="#FD96A9",e["The Sims Console"]="#FD96A9",e["The Sims Bustin' Out"]="#FD96A9",e["The Sims Bustin' Out Handheld"]="#FD96A9",e["The Sims 2"]="#99B8C9",e["The Urbz"]="#99B8C9",e["The Urbz Handheld"]="#99B8C9",e["The Sims 2 Console"]="#99B8C9",e["The Sims 2: Pets"]="#99B8C9",e["The Sims Life Stories"]="#99B8C9",e["The Sims Pet Stories"]="#99B8C9",e.MySims="#99B8C9",e["MySims DS"]="#99B8C9",e["The Sims 2: Castaway"]="#99B8C9",e["The Sims Castaway Stories"]="#99B8C9",e["The Sims 2: Apartment Pets"]="#99B8C9",e["MySims Kingdom"]="#99B8C9",e["MySims Party"]="#99B8C9",e["MySims Racing"]="#99B8C9",e["MySims Agents"]="#99B8C9",e["The Sims 2: Pets Handheld"]="#99B8C9",e["MySims Puzzle Party"]="#99B8C9",e["The Sims 3"]="#B199C9",e["MySims SkyHeroes"]="#B199C9",e["The Sims 3 Console"]="#B199C9",e["The Sims Medieval"]="#B199C9",e["The Sims Social"]="#B199C9",e["The Sims FreePlay"]="#B199C9",e["The Sims 4"]="#C0C999",e["The Sims Mobile"]="#C0C999"}(i||(i={}));var W=function(e){if(!e.value)return{};var t=Object(z.b)("#6495ed",.5);return{backgroundColor:i[e.value]?Object(z.b)(i[e.value],.5):Object(z.a)(t)}},J=n(11),L={currentSong:void 0,currentQueue:[],currentQueueSong:-1,repeatQueue:!1},V=Object(J.atom)(void 0),G=Object(J.atom)(void 0),q=Object(J.atom)(!1),H=Object(J.atom)(L),U=Object(J.atom)(!1),K=Object(J.atom)([]),Y=Object(J.atom)(!1),$=n(51),X="custom-playlists",Z=function(e,t,n){return"".concat(e,"/").concat(t,"/").concat(n)};function ee(e){localStorage.setItem(X,JSON.stringify(e))}var te=function(e){return"name"in e&&"tracks"in e},ne=function(e){var t,n=new Map,c=Object($.a)(e);try{for(c.s();!(t=c.n()).done;){var a=t.value;n.set(a.name,a)}}catch(r){c.e(r)}finally{c.f()}return n},ce=(Object(J.atom)([]),Object(J.atom)(new Map)),ae=Object(J.atom)([]),re=Object(J.atom)((function(e){var t=e(ae);return t.length?t.length>1?"multi":t[0]:"undefined"})),ie=Object(J.atom)(new Set),oe="site-preferences",ue=u.a.createContext(void 0),le={hideMinorTracks:!1,distinctKmstVersion:!1,jsonOptimizedTrackIdCopy:!1};function se(e){localStorage.setItem(oe,JSON.stringify(e))}var be,de,he,je,Oe,me,fe,pe,ge,ve,ye,Se,ke,we,Ce,xe,Te,Ne,Ae,Me,Qe,_e,Ee,Re,Be,Ie,Pe,Fe,De,ze,We,Je,Le,Ve,Ge=function(e){var t=e.children,n=u.a.useState(function(){var e=localStorage.getItem(oe);if(null===e){var t=le;return se(t),t}return JSON.parse(e)}()),c=Object(d.a)(n,2),a=c[0],r=c[1];return Object(A.jsx)(ue.Provider,{value:{settings:a,setSettings:function(e){r(e),se(e)}},children:t})},qe=function(){var e=u.a.useContext(ue);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e},He=function(e){var t=qe().settings,n=e.data,c=Object(o.useMemo)((function(){return Z(n.source.client,n.source.structure,n.filename)}),[n.source.client,n.source.structure,n.filename]),a=Object(J.useAtom)(ie),r=Object(d.a)(a,2),i=r[0],u=r[1],l=Object(o.useMemo)((function(){return i.has(c)}),[c,i]),s=Object(o.useCallback)((function(){t.jsonOptimizedTrackIdCopy?navigator.clipboard.writeText('"'.concat(c,'",\n')):navigator.clipboard.writeText(c)}),[c,t.jsonOptimizedTrackIdCopy]);return Object(y.c)("span",{css:Object(h.a)(be||(be=Object(b.a)(["\n        display: flex;\n        justify-content: center;\n      "]))),children:[Object(y.b)("div",{css:Object(h.a)(de||(de=Object(b.a)(["\n          margin: 0 5px;\n        "]))),onClick:s,children:Object(y.b)(T.a,{delay:{show:1e3,hide:100},overlay:Object(y.b)(N.a,{id:"tooltip-copy-track-id",children:"Copy Track ID"}),children:Object(y.b)("i",{css:Object(h.a)(he||(he=Object(b.a)(["\n              cursor: pointer;\n            "]))),className:"fa-regular fa-copy"})})}),Object(y.b)("div",{onClick:function(){l?i.delete(c):i.add(c);var e=new Set(i);u(e)},children:Object(y.b)(T.a,{delay:{show:1e3,hide:100},overlay:Object(y.b)(N.a,{id:"tooltip-export",children:l?"Remove from Export Set":"Add to Export Set"}),children:Object(y.b)("i",{css:Object(h.a)(je||(je=Object(b.a)(["\n              cursor: pointer;\n              color: ",";\n            "])),l?"red":"green"),className:"fa-regular ".concat(l?"fa-square-minus":"fa-square-plus")})})})]})},Ue=function(e){return e?e.startsWith("en")?"en":e.startsWith("ko")?"ko":e.startsWith("ja")?"ja":"zh-CN"===e?"zh-CN":e.startsWith("zh")?"zh-TW":"en":"en"},Ke=function(e){var t=e.dataSource,n=e.disableInitSort,c=e.enableTrackIdCol,a=Object(I.a)().i18n,r=Object(J.useAtomValue)(V),i=Object(o.useRef)(null),u=Object(o.useRef)(null),l=Object(o.useRef)([]),s=Object(o.useRef)(void 0),j=D(),O=Object(J.useSetAtom)(H),m=Object(J.useAtomValue)(q),f=Object(J.useAtomValue)(G),p=Object(J.useSetAtom)(U),g=Object(J.useSetAtom)(K),v=Object(J.useSetAtom)(Y);l.current=function(e,t){return[{headerName:"",field:"mark",minWidth:70,maxWidth:70,resizable:!1,cellRendererFramework:M,getQuickFilterText:function(){return""}},{hide:!t,cellRendererFramework:He,resizable:!1,maxWidth:35},{headerName:"Title",field:"metadata.title",minWidth:200,valueGetter:function(e){var t,n,c,a,r=e.context.i18n,i=e.data,o=Ue(r.language);return"en"===o?i.metadata.title:null!==(t=null===(n=i.locale)||void 0===n||null===(c=n[o])||void 0===c||null===(a=c.metadata)||void 0===a?void 0:a.title)&&void 0!==t?t:i.metadata.title},cellRendererFramework:_,cellRendererParams:function(t){return{title:t.value,youtube:t.data.youtube,onGridSongChange:e}}},{headerName:"Artist",minWidth:200,field:"description",valueGetter:function(e){var t,n,c,a=e.context.i18n,r=e.data,i=Ue(a.language);return"en"===i?r.description:null!==(t=null===(n=r.locale)||void 0===n||null===(c=n[i])||void 0===c?void 0:c.description)&&void 0!==t?t:r.description}},{headerName:"Station",field:"source.structure",minWidth:150,getQuickFilterText:function(){return""}},{headerName:"Date",field:"source.date",filter:"agDateColumnFilter",valueFormatter:function(e){return e.data.source.date?Object(C.a)(e.data.source.date,"yyyy-MM-dd"):""},cellRendererFramework:B,getQuickFilterText:function(){return""}},{headerName:"Game",field:"source.clientVersion",getQuickFilterText:function(){return""},cellStyle:W},{headerName:"Pack",field:"pack",minWidth:175,valueGetter:function(e){var t,n,c,a=e.context.i18n,r=e.data,i=Ue(a.language);return"en"===i?r.pack:null!==(t=null===(n=r.locale)||void 0===n||null===(c=n[i])||void 0===c?void 0:c.pack)&&void 0!==t?t:r.pack},getQuickFilterText:function(){return""}},{headerName:"Song Type",minWidth:100,field:"songType",valueGetter:function(e){var t,n,c,a=e.context.i18n,r=e.data,i=Ue(a.language);return"en"===i?r.songType:null!==(t=null===(n=r.locale)||void 0===n||null===(c=n[i])||void 0===c?void 0:c.songType)&&void 0!==t?t:r.songType},cellRendererFramework:_,cellRendererParams:function(t){return{title:t.value,youtube:t.data.originalSong,onGridSongChange:e}}}]}((function(e){v(!0),O({currentSong:e,currentQueue:[],currentQueueSong:-1,repeatQueue:m})}),c),s.current={animateRows:!1,pagination:!0,paginationPageSize:25,suppressColumnVirtualisation:!0,suppressMovableColumns:!0,rowHeight:45,defaultColDef:{sortable:!0,filter:!0,resizable:!0},domLayout:"autoHeight"},Object(o.useEffect)((function(){var e;null===(e=i.current)||void 0===e||e.setQuickFilter(r)}),[r]),Object(o.useEffect)((function(){(null===f||void 0===f?void 0:f.songId)&&S(f.songId)}),[f]);var S=function(e){var t,n,c;if(e){var a=-1,r=[];if(null===(t=i.current)||void 0===t||t.forEachNodeAfterFilterAndSort((function(t,n){t.data.youtube===e&&(a=n,r.push(t))})),-1!==a&&1===r.length){var o=Math.ceil((a+1)/25)-1;null===(n=i.current)||void 0===n||n.paginationGoToPage(o),null===(c=i.current)||void 0===c||c.ensureIndexVisible(a,"middle"),r[0].setSelected(!0),setTimeout((function(){!function(e){var t;if(null!==e){var n=document.querySelector("div.ag-root-wrapper div[row-index='".concat(e,"']")),c=null===n||void 0===n?void 0:n.style.transform;if(c){var a=new RegExp(/^translateY\((\d+)px\)$/g).exec(c);if(a){var r=Object(d.a)(a,2)[1],i=null===(t=document.querySelector("div.ag-root-wrapper"))||void 0===t?void 0:t.offsetTop;if(void 0!==i){var o=i+Number(r);window.scrollTo({top:o,behavior:"smooth"})}}}}}(r[0].rowIndex)}),0)}}},k=Object(o.useCallback)((function(e,t){p(e),g(t)}),[p,g]),x=function(e,t){var n,c=null!==(n=null===e||void 0===e?void 0:e.isAnyFilterPresent())&&void 0!==n&&n,a=[];null===e||void 0===e||e.forEachNodeAfterFilterAndSort((function(e){a.push(e.data)})),t(c,a)};Object(o.useEffect)((function(){x(i.current,k)}),[t,k]);var T={i18n:a};return Object(y.b)("div",{css:Object(h.a)(Oe||(Oe=Object(b.a)(["\n        margin: auto;\n        width: 95vw;\n        margin-bottom: 15px;\n      "]))),className:j.darkMode?"ag-theme-balham-dark":"ag-theme-balham",children:Object(y.b)(w.AgGridReact,{columnDefs:l.current,rowData:t,gridOptions:s.current,onFirstDataRendered:function(e){e.columnApi.autoSizeAllColumns()},onFilterChanged:function(e){x(e.api,k)},onSortChanged:function(e){x(e.api,k)},onModelUpdated:function(e){e.api.getDisplayedRowCount()>0?e.api.hideOverlay():e.api.showNoRowsOverlay()},onGridReady:function(e){if(i.current=e.api,u.current=e.columnApi,!n){e.columnApi.applyColumnState({state:[{colId:"source.date",sort:"desc"}]})}},reactUi:!0,context:T})})},Ye=n(166),$e=n.n(Ye),Xe=n(279),Ze=n(273),et=n(167),tt=n(288),nt=function(e){var t=Object(o.useRef)(null),n=e.playingState,c=e.setCurrentQueueSong,a=Object(J.useAtomValue)(re),r=Object(J.useAtom)(Y),i=Object(d.a)(r,2),u=i[0],l=i[1];Object(tt.a)("pausevideo",(function(){l(!1)}));return Object(y.c)("div",{children:[Object(y.b)($e.a,{css:Object(h.a)(me||(me=Object(b.a)(["\n          display: block;\n          margin-left: auto;\n          margin-right: auto;\n          max-width: 100vw;\n        "]))),ref:t,url:"https://youtu.be/".concat(n.currentSong),playing:u,controls:!0,onPlay:function(){return l(!0)},onPause:function(){return l(!1)},onEnded:function(){if(null!==t.current)if(n.currentQueue.length){var e;if(gtag("event","ce_complete_queue_video",{ce_category:"video",ce_youtube:n.currentSong,ce_playlist_name:a}),n.currentQueueSong===n.currentQueue.length-1){if(!n.repeatQueue)return;e=0}else e=n.currentQueueSong+1;c(e)}else t.current.seekTo(0),gtag("event","ce_loop_embedded_video",{ce_category:"video",ce_youtube:n.currentSong})}}),n.currentQueue.length>0&&Object(y.b)("div",{className:"text-center",css:Object(h.a)(fe||(fe=Object(b.a)(["\n            margin-top: 5px;\n          "]))),children:Object(y.c)(Ze.a,{size:"sm",children:[Object(y.b)(et.a,{variant:"outline-primary",onClick:function(){n.currentQueueSong<1||c(n.currentQueueSong-1)},disabled:0===n.currentQueueSong,children:Object(y.b)("i",{className:"fa fa-step-backward"})}),Object(y.b)("span",{css:Object(h.a)(pe||(pe=Object(b.a)(["\n                background-color: #343a40;\n                border-color: #343a40;\n                color: white;\n                padding: 0.25rem 0.5rem;\n                font-size: 0.875rem;\n                line-height: 1.5;\n                border: 1px solid transparent;\n                margin-left: -1px;\n              "]))),children:"".concat(Object(Xe.a)((n.currentQueueSong+1).toString(),n.currentQueue.length.toString().length,"0")," | ").concat(n.currentQueue.length)}),Object(y.b)(et.a,{variant:"outline-primary",onClick:function(){n.currentQueueSong!==n.currentQueue.length-1&&c(n.currentQueueSong+1)},disabled:n.currentQueueSong+1===n.currentQueue.length,children:Object(y.b)("i",{className:"fa fa-step-forward"})})]})})]})},ct=function(e){var t=e.noText;return Object(y.c)(o.Fragment,{children:[Object(y.b)("div",{children:Object(y.b)("img",{css:Object(h.a)(ge||(ge=Object(b.a)(["\n            display: block;\n            margin-left: auto;\n            margin-right: auto;\n            margin-bottom: 10px;\n          "]))),id:"header-logo",src:"assets/dj-candy.png",alt:"header logo"})}),t?null:Object(y.b)("div",{children:Object(y.b)("p",{css:Object(h.a)(ve||(ve=Object(b.a)(["\n              text-align: center;\n            "]))),children:'Welcome to the SimsRadio database. This site provides a listing of the radio music used in games of the "The Sims" series, compiled by SpiderInTheSim.'})})]})},at=n(280),rt=n(274),it=n(65),ot=function(e){var t=e.iconClass,n=e.actionName,c=e.onClick,a=e.active;return Object(y.b)(it.a.Item,{onClick:c,active:a,children:Object(y.c)("span",{children:[Object(y.b)("i",{className:t,css:Object(h.a)(ye||(ye=Object(b.a)(["\n            width: 24px;\n          "])))}),n]})})},ut=n(284),lt=function(){var e=Object(J.useSetAtom)(V),t=Object(J.useSetAtom)(G),n=Object(J.useAtom)(q),c=Object(d.a)(n,2),a=c[0],r=c[1],i=Object(J.useAtom)(H),o=Object(d.a)(i,2),u=o[0],l=o[1],s=Object(J.useAtomValue)(K),j=Object(J.useAtomValue)(U),O=Object(J.useAtomValue)(re),m=Object(J.useSetAtom)(Y);return Object(y.b)(at.a.Group,{css:Object(h.a)(Se||(Se=Object(b.a)(["\n        margin: 10px 14vw;\n      "]))),className:"filter-text",children:Object(y.c)(rt.a,{size:"lg",children:[Object(y.b)(T.a,{delay:{show:250,hide:100},overlay:Object(y.b)(N.a,{id:"tooltip-locate-song",children:"Locate Current Song"}),children:Object(y.b)(rt.a.Text,{css:Object(h.a)(ke||(ke=Object(b.a)(["\n              cursor: pointer;\n            "]))),onClick:function(){t({songId:u.currentSong})},children:Object(y.b)("i",{className:"fa fa-search"})})}),Object(y.b)(at.a.Control,{type:"search",placeholder:"Song title or keyword",onChange:function(t){e(t.target.value)},onKeyPress:function(e){"Enter"===e.key&&document.activeElement&&document.activeElement.blur()}}),Object(y.c)(it.a,{children:[Object(y.b)(T.a,{delay:{show:250,hide:100},overlay:Object(y.b)(N.a,{id:"tooltip-queue-actions",children:j?"Queue Actions (Filtered)":"Queue Actions"}),children:Object(y.b)(it.a.Toggle,{variant:j?"outline-warning":"outline-success",id:"dropdown-queue-actions",children:Object(y.b)("i",{className:"fa fa-play"})})}),Object(y.c)(it.a.Menu,{children:[Object(y.b)(ot,{actionName:"Start Queue",iconClass:"fa fa-play",onClick:function(){var e=s.filter((function(e){return""!==e.youtube}));e.length&&(m(!0),l({currentSong:e[0].youtube,currentQueue:e,currentQueueSong:0,repeatQueue:a}),gtag("event","ce_start_queue",{ce_category:"queue",ce_source:"play_button",ce_filtered:j,ce_playlist_name:O}))}}),Object(y.b)(ot,{actionName:"Start Shuffled Queue",iconClass:"fa fa-random",onClick:function(){var e=Object(ut.a)(s.filter((function(e){return""!==e.youtube})));e.length&&(m(!0),l({currentSong:e[0].youtube,currentQueue:e,currentQueueSong:0,repeatQueue:a}),gtag("event","ce_start_shuffled_queue",{ce_category:"queue",ce_source:"shuffle_button",ce_filtered:j,ce_playlist_name:O}))}}),Object(y.b)(it.a.Divider,{}),Object(y.b)(ot,{actionName:a?"Turn Off Queue Repeat":"Turn On Queue Repeat",iconClass:"fa fa-repeat",onClick:function(){var e=!a;r(e),m(!0),l((function(t){return Object(k.a)(Object(k.a)({},t),{},{repeatQueue:e})}))},active:a})]})]})]})})},st=u.a.createContext(void 0),bt=function(e){var t=e.children,n=u.a.useState([]),c=Object(d.a)(n,2),a=c[0],r=c[1],i=Object(J.useSetAtom)(ce),l=qe().settings;return Object(o.useEffect)((function(){fetch("https://raw.githubusercontent.com/dyzancorn/SimsRadioDataTest/prod/simsRadioData.json").then((function(e){return e.json()})).then((function(e){var t=e.filter((function(e){var t,n;return!l.hideMinorTracks||(null===(t=!(null===(n=e.decoration)||void 0===n?void 0:n.minorTrack))||void 0===t||t)})).map((function(e){var t=e.source.date?Object(x.a)(e.source.date):null,n={client:e.source.client,date:t,structure:e.source.structure,version:e.source.version,clientVersion:e.source.client};return Object.assign({},e,{source:n})}));r(t)})),fetch("https://raw.githubusercontent.com/dyzancorn/SimsRadioDataTest/prod/playlist.min.json").then((function(e){return e.json()})).then((function(e){i(ne(e))}))}),[r,l.hideMinorTracks,l.distinctKmstVersion,i]),Object(A.jsx)(st.Provider,{value:a,children:t})},dt=function(){var e=u.a.useContext(st);if(!e)throw new Error("useDataSourceState must be used within a DataSourceProvider");return e},ht=function(){var e=dt(),t=Object(J.useAtom)(H),n=Object(d.a)(t,2),c=n[0],a=n[1],r=Object(J.useSetAtom)(Y);Object(o.useEffect)((function(){a(L)}),[a]);return Object(y.c)("div",{children:[void 0===c.currentSong?Object(y.b)(ct,{}):Object(y.b)(nt,{playingState:c,setCurrentQueueSong:function(e){r(!0),a((function(t){return Object(k.a)(Object(k.a)({},t),{},{currentSong:t.currentQueue[e].youtube,currentQueueSong:e})}))}}),Object(y.b)(lt,{}),Object(y.b)(Ke,{dataSource:e})]})},jt=n(276),Ot=n(283),mt=function(e){var t=e.show,n=e.onModalClose;return Object(y.c)(Ot.a,{show:t,onShow:function(){},onHide:n,children:[Object(y.b)(Ot.a.Header,{closeButton:!0,children:Object(y.b)(Ot.a.Title,{children:"Settings"})}),Object(y.b)(Ot.a.Body,{children:"TBD"}),Object(y.b)(Ot.a.Footer,{})]})},ft=function(e){var t=e.theme,n=e.margin,c="light"===t?"fa fa-sun":"fa fa-moon";return Object(y.b)("i",{className:c,css:Object(h.a)(we||(we=Object(b.a)(["\n        width: 16px;\n        height: 16px;\n        text-align: center;\n        margin-right: ",";\n      "])),n?"5px":void 0)})},pt=n(16),gt=n(172),vt=n(277),yt=function(){var e=D(),t=dt(),n=Object(o.useState)(t),c=Object(d.a)(n,2),a=c[0],r=c[1],i=Object(J.useAtomValue)(ce),u=Object(o.useMemo)((function(){return function(){var e=localStorage.getItem(X);if(e){var t=JSON.parse(e);return ne(t)}return new Map}()}),[]),l=Object(J.useAtom)(H),s=Object(d.a)(l,2),j=s[0],O=s[1],m=Object(J.useSetAtom)(Y),f=Object(o.useRef)(null),p=Object(o.useState)([]),g=Object(d.a)(p,2),v=g[0],S=g[1],w=Object(o.useMemo)((function(){return Array.from(i.values()).map((function(e){return{value:e.name,label:e.name}}))}),[i]),C=Object(o.useMemo)((function(){return Array.from(u.values()).map((function(e){return{value:e.name,label:"[Custom] ".concat(e.name),custom:!0}}))}),[u]),x=Object(o.useMemo)((function(){return[].concat(Object(pt.a)(w),Object(pt.a)(C))}),[w,C]),T=Object(J.useSetAtom)(ae),N=Object(J.useAtom)(ie),A=Object(d.a)(N,2),M=A[0],Q=A[1];Object(o.useEffect)((function(){O(L)}),[O]),Object(o.useEffect)((function(){if(t.length)if(v&&v.length){var e,n=new Set,c=Object($.a)(v);try{for(c.s();!(e=c.n()).done;){var a=e.value,o=(a.custom?u:i).get(a.value);if(!o)return;o.tracks.forEach((function(e){return n.add(e)}))}}catch(d){c.e(d)}finally{c.f()}var l=Array.from(n),s=t.filter((function(e){var t=Z(e.source.client,e.source.structure,e.filename);return n.has(t)})),b=Object(vt.a)(s,(function(e){var t=Z(e.source.client,e.source.structure,e.filename);return l.indexOf(t)}));r(b)}else r(t)}),[t,i,u,v]);return Object(y.c)("div",{children:[void 0===j.currentSong?Object(y.b)(ct,{noText:!0}):Object(y.b)(nt,{playingState:j,setCurrentQueueSong:function(e){m(!0),O((function(t){return Object(k.a)(Object(k.a)({},t),{},{currentSong:t.currentQueue[e].youtube,currentQueueSong:e})}))}}),Object(y.c)("div",{css:Object(h.a)(Ce||(Ce=Object(b.a)(["\n          display: flex;\n          margin: 10px 25vw;\n          justify-content: center;\n          align-items: center;\n          height: 46px;\n        "]))),children:[Object(y.b)(gt.a,{css:Object(h.a)(xe||(xe=Object(b.a)(["\n            width: 100%;\n          "]))),classNamePrefix:e.darkMode?"playlist-select-dark":"playlist-select",isMulti:!0,options:x,ref:f,value:v,onChange:function(e){S(e),T(e.map((function(e){return e.value})))},placeholder:"Select playlist"}),Object(y.c)(it.a,{css:Object(h.a)(Te||(Te=Object(b.a)(["\n            height: 100%;\n          "]))),children:[Object(y.b)(it.a.Toggle,{css:Object(h.a)(Ne||(Ne=Object(b.a)(["\n              height: 100%;\n            "]))),variant:"outline-primary",children:Object(y.b)("i",{className:"fa fa-cog"})}),Object(y.c)(it.a.Menu,{children:[Object(y.b)(ot,{actionName:"Copy Export Set",iconClass:"fa fa-copy",onClick:function(){var e=Array.from(M),t=JSON.stringify(e,null,2);navigator.clipboard.writeText(t)}}),Object(y.b)(ot,{actionName:"Clear Export Set",iconClass:"fa fa-trash",onClick:function(){Q(new Set)}})]})]})]}),Object(y.b)(lt,{}),Object(y.b)(Ke,{dataSource:a,disableInitSort:!0,enableTrackIdCol:!0})]})},St=new FileReader,kt=function(){var e=Object(o.useState)(void 0),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)(""),r=Object(d.a)(a,2),i=r[0],u=r[1];return Object(o.useEffect)((function(){St.onload=function(){var e=St.result;if("string"===typeof e)try{var t=JSON.parse(e);if(null===t||void 0===t?void 0:t.length){var n,c=Object($.a)(t);try{for(c.s();!(n=c.n()).done;){var a=n.value;if(!te(a))return void u("Incorrect JSON structure")}}catch(r){c.e(r)}finally{c.f()}ee(t)}else{if(!te(t))return void u("Incorrect JSON structure");ee([t])}}catch(i){u("Cannot parse JSON")}else u("File content not string")}}),[]),Object(y.c)("div",{children:[Object(y.c)("div",{css:Object(h.a)(Ae||(Ae=Object(b.a)(["\n          @media (min-width: 1024px) {\n            margin-right: 33vw;\n          }\n        "]))),children:[Object(y.b)("h2",{children:"Playlist Builder"}),Object(y.c)("p",{children:["Import and export custom playlists. JSON structure can be found"," ",Object(y.b)("a",{href:"https://github.com/maplestory-music/maplebgm-db/blob/master/playlist/blockbuster/BlackHeaven.jsonc",target:"_blank",rel:"noreferrer",children:"here"}),"; track IDs may be copied from the Playlist page. Tracks can also be added to and removed from the Export Set on the Playlist page. The Export Set can be copied and cleared from the Playlist Settings dropdown."]}),Object(y.b)("p",{css:Object(h.a)(Me||(Me=Object(b.a)(["\n            color: red;\n          "]))),children:"All custom playlists are stored in the browser's localStorage and may be cleared without notice. Export frequently and use at your own risk."})]}),Object(y.c)("div",{css:Object(h.a)(Qe||(Qe=Object(b.a)(["\n          margin: 10px 0;\n        "]))),children:[Object(y.b)("h4",{children:"Import"}),Object(y.b)("div",{css:Object(h.a)(_e||(_e=Object(b.a)(["\n            margin: 10px 0;\n          "]))),children:Object(y.c)("span",{children:["Import custom playlists from a JSON file."," ",Object(y.b)("span",{css:Object(h.a)(Ee||(Ee=Object(b.a)(["\n                color: red;\n              "]))),children:"This will overwrite existing custom playlists."})]})}),Object(y.c)("div",{children:[Object(y.b)("input",{type:"file",accept:".json",onChange:function(e){e.target.files&&e.target.files.length&&c(e.target.files[0])},onClick:function(){u("")}}),Object(y.b)("button",{onClick:function(){n&&("application/json"===n.type?St.readAsText(n):u("File type not JSON"))},children:"Import"}),i&&Object(y.c)("div",{css:Object(h.a)(Re||(Re=Object(b.a)(["\n                color: red;\n              "]))),children:["Error: ",i]})]})]}),Object(y.c)("div",{css:Object(h.a)(Be||(Be=Object(b.a)(["\n          margin: 20px 0;\n        "]))),children:[Object(y.b)("h4",{children:"Export"}),Object(y.b)("div",{css:Object(h.a)(Ie||(Ie=Object(b.a)(["\n            margin: 10px 0;\n          "]))),children:Object(y.b)("span",{children:"Export all custom playlists into a JSON file."})}),Object(y.b)("div",{children:Object(y.b)("button",{onClick:function(){var e=null,t=function(){var e=localStorage.getItem(X);if(e)try{return JSON.parse(e)}catch(t){throw new Error("Error parsing JSON from localStorage")}return[]}(),n=JSON.stringify(t,null,2);if(n&&t.length){var c=document.createElement("a");c.setAttribute("download","maplestory-custom-playlists.json"),c.href=function(){var t=new Blob([n],{type:"application/json"});return null!==e&&window.URL.revokeObjectURL(e),e=window.URL.createObjectURL(t)}(),c.click()}else window.alert("Nothing to export")},children:"Export"})})]}),Object(y.c)("div",{css:Object(h.a)(Pe||(Pe=Object(b.a)(["\n          margin: 20px 0;\n        "]))),children:[Object(y.b)("h4",{children:"Reset"}),Object(y.b)("div",{css:Object(h.a)(Fe||(Fe=Object(b.a)(["\n            margin: 10px 0;\n          "]))),children:Object(y.b)("span",{children:"If there are any issues, you can wipe all custom playlists."})}),Object(y.b)("div",{children:Object(y.b)("button",{onClick:function(){window.confirm("Wipe all custom playlists?")&&localStorage.removeItem(X)},children:"Wipe"})})]})]})},wt=Object(m.a)(),Ct=function(e){e.currentTarget.pathname===window.location.pathname&&e.preventDefault()},xt=function(){var e=D(),t=Object(o.useState)(!1),n=Object(d.a)(t,2),c=n[0],a=n[1];return Object(y.c)(y.a,{children:[Object(y.c)(f.a,{css:Object(h.a)(De||(De=Object(b.a)(["\n          margin-bottom: 10px;\n        "]))),bg:"dark",variant:"dark",expand:"lg",children:[Object(y.c)(f.a.Brand,{css:Object(h.a)(ze||(ze=Object(b.a)(["\n            margin-left: 1rem;\n          "]))),as:j.a,to:"/",onClick:Ct,children:[Object(y.b)("img",{css:Object(h.a)(We||(We=Object(b.a)(["\n              margin-right: 8px;\n            "]))),alt:"",src:"./assets/dj-logo.webp",width:"30",height:"30",className:"d-inline-block align-top"})," ","SimsRadio"]}),Object(y.b)(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(y.b)(f.a.Collapse,{id:"basic-navbar-nav",children:Object(y.c)(p.a,{className:"mr-auto",children:[Object(y.b)(p.a.Link,{as:j.b,exact:!0,to:"/",onClick:Ct,children:"Home"}),Object(y.b)(p.a.Link,{as:j.b,exact:!0,to:"/playlist",onClick:Ct,children:"Playlist"}),Object(y.b)(p.a.Link,{as:j.b,exact:!0,to:"/about",onClick:Ct,children:"About"}),Object(y.b)(g.a,{title:"Extras",children:Object(y.b)(g.a.Item,{as:j.b,exact:!0,to:"/playlist-builder",onClick:Ct,children:"Playlist Builder"})}),Object(y.c)(g.a,{title:e.darkMode?Object(y.b)(ft,{theme:"dark"}):Object(y.b)(ft,{theme:"light"}),children:[Object(y.c)(g.a.Item,{active:!e.darkMode,onClick:function(){e.darkMode&&(darkmode.setDarkMode(!1),gtag("event","ce_ui_light",{ce_category:"ui",ce_source:"navbar"}))},children:[Object(y.b)(ft,{theme:"light",margin:!0}),"Light"]}),Object(y.c)(g.a.Item,{active:e.darkMode,onClick:function(){e.darkMode||(darkmode.setDarkMode(!0),gtag("event","ce_ui_dark",{ce_category:"ui",ce_source:"navbar"}))},children:[Object(y.b)(ft,{theme:"dark",margin:!0}),"Dark"]})]}),Object(y.b)(p.a.Link,{as:j.b,to:"#",onClick:function(){return a(!0)},children:Object(y.b)("i",{className:"fa fa-cog"})})]})})]}),Object(y.b)(mt,{show:c,onModalClose:function(){return a(!1)}})]})},Tt=function(){var e,t,n=null!==(e="7eee548")?e:"Dev",c=null!==(t="2024-08-05")?t:Object(jt.a)(new Date,{representation:"date"});return Object(y.b)("div",{css:Object(h.a)(Je||(Je=Object(b.a)(["\n        text-align: center;\n        margin-bottom: 10px;\n      "]))),className:"footer",children:Object(y.b)("span",{children:"Build: ".concat(n," (").concat(c,")")})})},Nt="SimsRadio",At={"/":Nt,"/playlist":"".concat(Nt," - Playlist"),"/about":"".concat(Nt," - About"),"/playlist-builder":"".concat(Nt," - Playlist Builder")},Mt=function(){var e=Object(O.f)();return Object(o.useEffect)((function(){var t;document.title=null!==(t=At[e.pathname])&&void 0!==t?t:Nt}),[e]),Object(y.b)("main",{children:Object(y.c)(O.c,{children:[Object(y.b)(O.a,{exact:!0,path:"/",component:Qt}),Object(y.b)(O.a,{path:"/playlist",component:_t}),Object(y.b)(O.a,{path:"/about",component:Et}),Object(y.b)(O.a,{path:"/playlist-builder",component:Rt})]})})},Qt=function(){return Object(y.b)("div",{className:"App",children:Object(y.b)(ht,{})})},_t=function(){return Object(y.b)("div",{className:"App",children:Object(y.b)(yt,{})})},Et=function(){return Object(y.b)("div",{css:Object(h.a)(Le||(Le=Object(b.a)(["\n      margin: 2% 3% 3% 3%;\n    "]))),className:"About",children:Object(y.b)(S,{})})},Rt=function(){return Object(y.b)("div",{css:Object(h.a)(Ve||(Ve=Object(b.a)(["\n      margin: 2% 3% 3% 3%;\n    "]))),className:"About",children:Object(y.b)(kt,{})})},Bt=function(){return Object(y.b)(F,{children:Object(y.b)(Ge,{children:Object(y.b)(bt,{children:Object(y.b)(O.b,{history:wt,children:Object(y.c)("div",{children:[Object(y.b)(xt,{}),Object(y.b)(Mt,{}),Object(y.b)(Tt,{})]})})})})})},It=n(173),Pt=n(100),Ft=n(174);It.a.use(Ft.a).use(Pt.e).init({fallbackLng:{zh:["zh-TW","zh-CN","en"],default:["en"]},nonExplicitSupportedLngs:!0,supportedLngs:["en","ko","ja","zh"]});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(A.jsx)(u.a.StrictMode,{children:Object(A.jsx)(o.Suspense,{fallback:Object(A.jsx)("div",{children:"Loading..."}),children:Object(A.jsx)(Bt,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[263,1,2]]]);